<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>login</title>
    <script th:src="@{js/jquery/3.2.1/jquery.js}"></script>
</head>
    <script type="text/javascript" th:inline="javascript">
        /*<![CDATA[*/
        var basePath = /*[[${#httpServletRequest.getScheme() + "://" + #httpServletRequest.getServerName() + ":" + #httpServletRequest.getServerPort() + #httpServletRequest.getContextPath()}]]*/;

        $(function () {
           $("#kaptcha").click(function () {
               $(this).hide().attr('src',basePath+'/kaptcha?'+ Math.floor(Math.random() * 100)).fadeIn();
           });
        });


        /*]]>*/
    </script>
<body>
    <div th:align="center">
        <p th:text="${msg}">
        <form th:action="@{'/login'}" th:method="post">
            <input th:type="text" th:name="username" th:placeholder="请输入账号"/>
            <input th:type="text" th:name="password" th:placeholder="请输入密码"/>
            <input th:type="text" th:name="kaptchaCode" th:placeholder="请输入验证码"/>
            <img th:id="kaptcha" th:src="@{/kaptcha}" style="width: 130px;height: 35px;">
            <input th:type="submit" th:value="login">
        </form>

    </div>
</body>
</html>